<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
  <title>order</title>
  <f:metadata>
    <!--        <f:viewParam name="param" id="param" value="#{searchTest.param}"/>-->
    <f:viewAction action="#{orderController.init}"/>
  </f:metadata>
  <h:outputStylesheet library="css" name="dataTable_style.css"/>
  <h:outputStylesheet library="css" name="navigation.css"/>
  <h:outputStylesheet library="css" name="displayPageGeneral.css"/>
</h:head>
<h:body>
  <div class="header">
    <div class="navbar">
      <ul>
        <li><a href="home.xhtml">Home</a></li>
        <li><a href="customer.xhtml" style="cursor: pointer;">Customer</a></li>
        <li><a href="product.xhtml" style="cursor: pointer">Product</a></li>
        <li><a href="order.xhtml" style="cursor: pointer; background-color:#6dd47d">Order</a></li>
        <li><a href="staff.xhtml" style="cursor: pointer">Staff</a></li>
        <li><a href="category.xhtml" style="cursor: pointer;">Category</a></li>
        <li><a href="brand.xhtml" style="cursor: pointer">Brand</a></li>
      </ul>
    </div>
  </div>
  <div class="mainteil">
    <div class="table">
      <div>
        <div class="text">ORDER</div>
        <h:dataTable id="list"
                     styleClass="allTable"
                     headerClass="allTableHeader"
                     rowClasses="allTableOddRow,allTableEvenRow"
                     border="10"
                     cellpadding="10"
                     value="#{orderController.getAll(orderController.currentPage, orderController.pageSize)}"
                     var="order">
          <h:column>
            <f:facet name="header">
              <h:outputText value="ID"/>
            </f:facet>
            <h:outputText value="#{order.orderId}"/>
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="date"/>
            </f:facet>
            <h:outputText value="#{order.orderDate}"/>
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="orderStatus"/>
            </f:facet>
            <h:outputText value="#{order.orderStatus}"/>
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="requiredDate"/>
            </f:facet>
            <h:outputText value="#{order.requiredDate}"/>
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="shippedDate"/>
            </f:facet>
            <h:outputText value="#{order.shippedDate}"/>
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="customerName"/>
            </f:facet>
            <h:outputText value="#{order.customerId}"/>
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="staffName"/>
            </f:facet>
            <h:outputText value="#{order.staffId}"/>
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="storeName"/>
            </f:facet>
            <h:outputText value="#{order.storeId}"/>
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="details"/>
            </f:facet>

            <!--URL参数传递-->
            <h:outputLink style="text-decoration: none"
                          value="order_item.xhtml?order_id=#{order.orderId}">order_item</h:outputLink>

          </h:column>
        </h:dataTable>
      </div>
    </div>
    <!--分页按钮-->
    <div class="FormControl">
      <h:form style="width: 100%" id="page">
        <div class="showPage">
          current page: <h:outputText value="#{orderController.currentPage}"/>
        </div>
        <div class="showError">
          <h:messages globalOnly="true" styleClass="error-message"/>
        </div>
        <div class="control">
          <h:commandButton styleClass="commandButton1" value="First" action="#{orderController.first}">
            <f:ajax render="list page"/>
          </h:commandButton>
          <h:commandButton styleClass="commandButton2" value="Previous" action="#{orderController.previous}">
            <f:ajax render="list page"/>
          </h:commandButton>
          <h:commandButton styleClass="commandButton1" value="Next" action="#{orderController.next}">
            <f:ajax render="list page"/>
          </h:commandButton>
          <h:commandButton styleClass="commandButton1" value="Last" action="#{orderController.last}">
            <f:ajax render="list page"/>
          </h:commandButton>
          <h:inputText style="margin-right: 8px; border-radius: 28px; border: 3px solid; text-align: center"
                       value="#{orderController.currentPage}">Go To:
            <f:ajax render="list page"/>
          </h:inputText>
          <h:commandButton styleClass="commandButton1" value="Go"
                           action="#{orderController.go(orderController.currentPage)}">
            <f:ajax render="list page"/>
          </h:commandButton>
        </div>
      </h:form>
    </div>
  </div>
  <!--    <div class="footer">Designed and produced by Tang,Wang,Li,Chen</div>-->
</h:body>
</html>
